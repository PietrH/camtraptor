---
title: "Visualize number of species per deployment"
author: "Damiano Oldoni"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Visualize number of species per deployment}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

This vignette shows how to visualize number of species per deployment in a leaflet by using function  `visualize_species_per_deployment()`.

## Setup

Load package:

```{r load}
library(camtrapdp)
```

This load automatically a camera trap data package, `camtrapdp`, containing camera trap data about musk rat and coypu. We will use this variable from now on.

## Create map

You can visualize the number of species detected by each deployment by using the function `visualize_species_per_deployment()`. You can benefit of the `cluster` mode, which is set to `TRUE` by default. You can also specify the column you want to show while hovering with the mouse over the deployment. By default the  `deployment_id` is used.

```{r visualize_with_clusters_and_default_hover_col}
visualize_species_per_deployment(deployments = camtrapdp$deployments,
                                 observations = camtrapdp$observations)
```

Here below the column `location_name` is used instead:

```{r visualize_with_clusters_spec_hover_col}
visualize_species_per_deployment(deployments = camtrapdp$deployments,
                                 observations = camtrapdp$observations,
                                 hover_column = "location_name")
```

Deactivating the cluster mode:

```{r visualize_without_clusters}
visualize_species_per_deployment(deployments = camtrapdp$deployments,
                                 observations = camtrapdp$observations,
                                 cluster = FALSE)
```
